<Window x:Class="CookMaster_Project.Views.RecipeListWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Recipe List" Height="400" Width="1200">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Toolbar -->
            <RowDefinition Height="*"/>
            <!-- List -->
            <RowDefinition Height="Auto"/>
            <!-- Bottom buttons -->
        </Grid.RowDefinitions>

        <!-- Toolbar: Left=Search/Filter, Right=User/SignOut -->
        <Grid Grid.Row="0" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,0">
                <TextBlock Text="Search:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <TextBox Width="140"
                         Text="{Binding SearchQuery, UpdateSourceTrigger=PropertyChanged}"
                         Margin="0,0,8,0"/>

                <TextBlock Text="Type:" VerticalAlignment="Center" Margin="12,0,0,0"/>
                <ComboBox Width="130"
                          ItemsSource="{Binding Filters}"
                          SelectedItem="{Binding SelectedFilter}"
                          Margin="0,0,12,0"/>

                <!-- Date range filters -->
                <TextBlock Text="From:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <DatePicker SelectedDate="{Binding FromDate}" Width="130" Margin="0,0,8,0"/>
                <TextBlock Text="To:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <DatePicker SelectedDate="{Binding ToDate}" Width="130" Margin="0,0,12,0"/>

                <!-- Sorting -->
                <TextBlock Text="Sort:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                <ComboBox Width="130"
                          ItemsSource="{Binding SortOptions}"
                          SelectedItem="{Binding SortBy}"
                          Margin="0,0,6,0"/>
                <CheckBox Content="Desc" IsChecked="{Binding SortDescending}" VerticalAlignment="Center"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right">
                <TextBlock Text="{Binding LoggedInUsername}" FontSize="16" Margin="0,0,10,0"/>
                <Button Content="User" Command="{Binding OpenUserDetailsCommand}" Margin="5,0"/>
                <Button Content="Sign Out" Command="{Binding SignOutCommand}" Margin="5,0"/>
            </StackPanel>
        </Grid>

        <!-- Recipe List -->
        <ListView Grid.Row="1" ItemsSource="{Binding FilteredRecipes}" SelectedItem="{Binding SelectedRecipe}" Margin="10">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Title" DisplayMemberBinding="{Binding Title}" Width="260"/>
                    <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="120"/>
                    <GridViewColumn Header="Created" DisplayMemberBinding="{Binding CreatedDate}" Width="160"/>
                    <GridViewColumn Header="By" DisplayMemberBinding="{Binding CreatedBy}" Width="100"/>
                </GridView>
            </ListView.View>
        </ListView>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
            <Button Content="Add Recipe" Command="{Binding AddRecipeCommand}" Margin="5,0"/>
            <Button Content="Remove Recipe" Command="{Binding RemoveRecipeCommand}" Margin="5,0"/>
            <Button Content="Details" Command="{Binding ViewDetailsCommand}" Margin="5,0"/>
            <Button Content="Info" Command="{Binding ShowInfoCommand}" Margin="5,0"/>
        </StackPanel>
    </Grid>
</Window>
