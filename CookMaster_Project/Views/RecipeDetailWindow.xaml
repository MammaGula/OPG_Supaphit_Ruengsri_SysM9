<Window x:Class="CookMaster_Project.Views.RecipeDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Recipe Details" Height="520" Width="640" WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Text="Recipe Details" FontSize="20" FontWeight="Bold" />

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Title -->
            <TextBlock Grid.Column="0" Text="Title:" VerticalAlignment="Center" Margin="0,0,8,8"/>
            <TextBox Grid.Column="1" Text="{Binding Title, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,0,0,8" IsEnabled="{Binding IsEditing}" />

            <!-- Description -->
            <TextBlock Grid.Column="0" Text="Description:" VerticalAlignment="Top" Margin="0,0,8,8" Grid.Row="1"/>
            <TextBox Grid.Column="1" Grid.Row="1"
                     Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,0,0,8" Height="60" AcceptsReturn="True" TextWrapping="Wrap"
                     IsEnabled="{Binding IsEditing}" />

            <!-- Ingredients -->
            <TextBlock Grid.Column="0" Text="Ingredients:" VerticalAlignment="Top" Margin="0,0,8,8" Grid.Row="2"/>
            <TextBox Grid.Column="1" Grid.Row="2"
                     Text="{Binding Ingredients, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,0,0,8" Height="90" AcceptsReturn="True" TextWrapping="Wrap"
                     IsEnabled="{Binding IsEditing}" />

            <!-- Instructions -->
            <TextBlock Grid.Column="0" Text="Instructions:" VerticalAlignment="Top" Margin="0,0,8,8" Grid.Row="3"/>
            <TextBox Grid.Column="1" Grid.Row="3"
                     Text="{Binding Instructions, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,0,0,8" Height="90" AcceptsReturn="True" TextWrapping="Wrap"
                     IsEnabled="{Binding IsEditing}" />

            <!-- Type -->
            <TextBlock Grid.Column="0" Text="Type:" VerticalAlignment="Center" Margin="0,0,8,8" Grid.Row="4"/>
            <ComboBox Grid.Column="1" Grid.Row="4"
                      ItemsSource="{Binding Types}"
                      SelectedItem="{Binding SelectedType, UpdateSourceTrigger=PropertyChanged}"
                      Margin="0,0,0,8" IsEnabled="{Binding IsEditing}" />

            <!-- Time (minutes) -->
            <TextBlock Grid.Column="0" Text="Time (minutes):" VerticalAlignment="Center" Margin="0,0,8,8" Grid.Row="5"/>
            <TextBox Grid.Column="1" Grid.Row="5"
                     Text="{Binding TimeMinutesText, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,0,0,8" IsEnabled="{Binding IsEditing}" />

            <!-- Metadata (read-only) -->
            <TextBlock Grid.Column="0" Text="Created By:" VerticalAlignment="Center" Margin="0,0,8,8" Grid.Row="6"/>
            <TextBlock Grid.Column="1" Grid.Row="6"
                       Text="{Binding CreatedByLabel}" Margin="0,0,0,8" />

            <TextBlock Grid.Column="0" Text="Created Date:" VerticalAlignment="Center" Margin="0,0,8,0" Grid.Row="7"/>
            <TextBlock Grid.Column="1" Grid.Row="7"
                       Text="{Binding CreatedDateLabel}" Margin="0,0,0,0" />

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Title -->
                <RowDefinition Height="Auto"/>
                <!-- Description -->
                <RowDefinition Height="Auto"/>
                <!-- Ingredients -->
                <RowDefinition Height="Auto"/>
                <!-- Instructions -->
                <RowDefinition Height="Auto"/>
                <!-- Type -->
                <RowDefinition Height="Auto"/>
                <!-- Time -->
                <RowDefinition Height="Auto"/>
                <!-- CreatedBy -->
                <RowDefinition Height="Auto"/>
                <!-- CreatedDate -->
            </Grid.RowDefinitions>
        </Grid>

        <!-- Error message -->
        <TextBlock Grid.Row="4" Text="{Binding ErrorMessage}" Foreground="Red" />

        <!-- Buttons -->
        <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right" >
            <Button Content="Edit"
                    Margin="0,0,8,0"
                    Command="{Binding EditCommand}" />
            <Button Content="Save"
                    Margin="0,0,8,0"
                    Command="{Binding SaveCommand}" />
            <Button Content="Copy as New"
                    Margin="0,0,8,0"
                    Command="{Binding CopyAsNewCommand}" />
            <Button Content="Cancel"
                    Command="{Binding CancelCommand}" />
        </StackPanel>
    </Grid>
</Window>
